<!DOCTYPE html>
<html style="font-size: 16px;">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="gerenciador de úsuarios">
    <meta name="description" content="">
    <meta name="page_type" content="np-template-header-footer-from-plugin">
    <title>administrar</title>
    <script> import { MaterialIcons } from '@expo/vector-icons'; </script>
    <link  rel="stylesheet" href="login.css" media="screen">

    
    <link  href =' https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css ' rel =' folha de estilo '>
    <link rel="stylesheet" href="Geral.css" media="screen">
    <link rel="stylesheet" href="administrarLogin.js" media="screen">

    <script class="u-script" type="text/javascript" src="jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="geral.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="administrar.js" defer=""></script>

    <meta name="generator" content="avaliaçãoA3">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
    
    <!--dados estruturados-->
    <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": ""
}</script>
    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="administrar">
    <meta property="og:type" content="website">
  </head>
  <body class="u-body u-xl-mode"><header class="cabecalho u-clearfix u-header
      u-sticky-50b8" id="sec-bec4"><div class="u-clearfix u-sheet u-sheet-1">
        <img class="logo u-image u-image-default u-preserve-proportions u-image-1" 
        src="images/Component6.png" alt="" data-image-width="188" data-image-height="188">
        <p class="logo titulo u-text u-text-body-color u-text-1"> gym  GBI</p>
        <nav class="menu u-menu u-menu-dropdown u-offcanvas u-menu-1">
          <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0px;">
            <a class="u-button-style u-custom-left-right-menu-spacing u-custom-padding-bottom 
            u-custom-text-active-color u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base
             u-text-hover-palette-2-base" href="#">
              <svg class="u-svg-link" viewBox="0 0 24 24"><use xmlns:xlink="http://www.w3.org/1999/xlink"
                 xlink:href="#menu-hamburger"></use></svg>
              <svg class="u-svg-content" version="1.1" id="menu-hamburger" viewBox="0 0 16 16" x="0px"
               y="0px" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><g>
                 <rect y="1" width="16" height="2"></rect><rect y="7" width="16" height="2"></rect>
                 <rect y="13" width="16" height="2"></rect>
</g></svg>
            </a>
          </div>
          <div class="u-custom-menu u-nav-container">
            <ul class="u-nav u-unstyled u-nav-1"><li class="u-nav-item"><a class="u-button-style
               u-nav-link u-text-active-grey-90 u-text-hover-palette-2-base" href="Página-Inicial.html" 
               style="padding: 10px 54px;">Página Inicial</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-grey-90 u-text-hover-palette-2-base"
   href="login.html" style="padding: 10px 54px;">login</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-grey-90 u-text-hover-palette-2-base"
   href="cadastrar.html" style="padding: 10px 54px;">cadastrar</a>
</li></ul>
               </div>
                <div class="u-custom-menu u-nav-container-collapse">
                <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
                <div class="u-inner-container-layout u-sidenav-overflow">
                <div class="u-menu-close"></div>
                <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2"><li class="u-nav-item">
                <a class="u-button-style u-nav-link" href="Página-Inicial.html">Página Inicial</a>

                



</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="login.html">login</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="cadastrar.html">cadastrar</a>
</li></ul>
              </div>
            </div>
            <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
          </div>
        </nav>
      </div></header>
    <section class="fundo_gerenciador u-clearfix u-grey-15 u-section-1" id="sec-cdf4">
      <div class="u-clearfix u-sheet u-sheet-1">

        


        <!--classe do titulo : titulo_usuario u-text u-text-default-lg u-text-default-md u-text-default-sm 
        u-text-default-xs u-text-1-->
      <!-- <center> <h2 class="">gerenciador de úsuarios</h2></center>
       <br>-->
       <br><br><br>

        <div class="tabela_usuario u-table u-table-responsive u-table-1">
          <table class="u-table-entity">
            <colgroup>
              <col width="25%">
              <col width="25%">
              <col width="25%">
              <col width="25%">
            </colgroup>
            <thead class="u-black u-table-header u-table-header-1">

              <!--cadastro------------------------------------------------------------------------------------------>
              <div class="u-border-1 u-border-black u-table-cell container u-border-grey-30">
                <div class="header ">
                 <center> <span><strong><h2>Cadastro de Funcionários</h2></strong></span> 
                   </center>
                </div>
            
                <div class="divTable">
                  <table>
                    <thead>
                      <tr>
                        <th class="u-border-1 u-border-grey-30 u-table-cell">Nome</th>
                        <th class="u-border-1 u-border-grey-30 u-table-cell">modalidade</th>
                        <th class="u-border-1 u-border-grey-30 u-table-cell">mensalidade</th>
                        <th class="acao u-border-1 u-border-grey-30 u-table-cell">Editar</th>
                        <th class="acao u-border-1 u-border-grey-30 u-table-cell">Excluir</th>
                       
                      </tr>
                    </thead>
                    <tbody>
                    </tbody>
                  </table>
                </div>
            <br><br>
               <center> <div class="modal-container">
                  <div class="modal">

                    <br>
                    <form>
                      <label for="m-nome">Nome</label>
                      <input class="u-border-1 u-border-grey-30
                      u-input-rectangle u-white" id="m-nome" type="text" required />
              
                      <label for="m-funcao">modalidade</label>
                      <input class="u-border-1 u-border-grey-30
                      u-input-rectangle u-white" id="m-funcao" type="text" required />
              
                      <label for="m-salario">mensalidade</label>
                      <input  class="u-border-1 u-border-grey-30
                      u-input-rectangle u-white" id="m-salario" type="number" required /><br><br>
                      <!--butões de salvar e limpar-->
                      <button class="u-btn u-btn-submit u-button-style u-hover-palette-1-dark-1 u-white u-btn-1 u-btn-submit u-button-style u-hover-palette-1-dark-1 
                      u-white u-btn-1 u-button-style u-hover-palette-1-dark-1 u-white u-btn-1" id="btnSalvar">Salvar</button>
                      <button onclick="openModal()" class="u-btn u-btn-submit u-button-style u-hover-palette-1-dark-1 u-white u-btn-1 u-btn-submit u-button-style u-hover-palette-1-dark-1 
                      u-white u-btn-1 u-button-style u-hover-palette-1-dark-1 u-white u-btn-1" id="new">Limpar</i></button>
                    </form>
                  </div>
                </div> </center>
            
              </div>
              <script src="administrar.js"></script>

              <!-- codigo CRUD-->
              
              <script>const modal = document.querySelector('.modal-container')
                const tbody = document.querySelector('tbody')
                const sNome = document.querySelector('#m-nome')
                const sFuncao = document.querySelector('#m-funcao')
                const sSalario = document.querySelector('#m-salario')
                const btnSalvar = document.querySelector('#btnSalvar')
                
                let itens
                let id
                
                function openModal(edit = false, index = 0) {
                  modal.classList.add('active')
                
                  modal.onclick = e => {
                    if (e.target.className.indexOf('modal-container') !== -1) {
                      modal.classList.remove('active')
                    }
                  }
                
                  if (edit) {
                    sNome.value = itens[index].nome
                    sFuncao.value = itens[index].funcao
                    sSalario.value = itens[index].salario
                    id = index
                  } else {
                    sNome.value = ''
                    sFuncao.value = ''
                    sSalario.value = ''
                  }
                  
                }
                
                function editItem(index) {
                
                  openModal(true, index)
                }
                
                function deleteItem(index) {
                  itens.splice(index, 1)
                  setItensBD()
                  loadItens()
                }
                
                function insertItem(item, index) {
                  let tr = document.createElement('tr')
                
                  tr.innerHTML = `
                    <td>${item.nome}</td>
                    <td>${item.funcao}</td>
                    <td>R$ ${item.salario}</td>
                    <td class="acao">
                      <button onclick="editItem(${index})"> <i class='bx bx-edit u-button-style   ' >editar</i></button>
                    </td>
                    <td class="acao">
                      <button onclick="deleteItem(${index})"><i class='bx bx-trash u-button-style '>excluir</i></button>
                    </td>
                  `
                  tbody.appendChild(tr)
                }
                //editar depois as variaveis
                btnSalvar.onclick = e => {
                  
                  if (sNome.value == '' || sFuncao.value == '' || sSalario.value == '') {
                    return
                  }
                
                  e.preventDefault();
                
                  if (id !== undefined) {
                    itens[id].nome = sNome.value
                    itens[id].funcao = sFuncao.value
                    itens[id].salario = sSalario.value
                  } else {
                    itens.push({'nome': sNome.value, 'funcao': sFuncao.value, 'salario': sSalario.value})
                  }
                
                  setItensBD()
                
                  modal.classList.remove('active')
                  loadItens()
                  id = undefined
                }
                
                function loadItens() {
                  itens = getItensBD()
                  tbody.innerHTML = ''
                  itens.forEach((item, index) => {
                    insertItem(item, index)
                  })
                
                }
                
                const getItensBD = () => JSON.parse(localStorage.getItem('dbfunc')) ?? []
                const setItensBD = () => localStorage.setItem('dbfunc', JSON.stringify(itens))
                
                loadItens()</script>


          </table>




          
       
 
    
    
    <footer class="rotape_forma u-align-center u-clearfix u-footer u-grey-80 u-footer" id="sec-7c6c"><div
       class="u-clearfix u-sheet u-sheet-1">
        <p class="rotap_texto u-small-text u-text u-text-variant u-text-1">Trabalho realizado para avaliação A3,
           do curso Análise e desenvolvimento de sistema</p>
      </div></footer>
  
  </body>
</html>